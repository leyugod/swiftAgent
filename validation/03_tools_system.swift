#!/usr/bin/env swift

/*
 éªŒè¯è„šæœ¬ 03: å·¥å…·ç³»ç»ŸéªŒè¯
 
 éªŒè¯å†…å®¹ï¼š
 - 5ä¸ªå†…ç½®å·¥å…·é€ä¸€æµ‹è¯•
 - å·¥å…·è°ƒç”¨æµç¨‹
 - å·¥å…·æ‰§è¡Œç»“æœ
 - é”™è¯¯å·¥å…·è°ƒç”¨å¤„ç†
*/

import Foundation

print("""
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ§ª éªŒè¯è„šæœ¬ 03: å·¥å…·ç³»ç»ŸéªŒè¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ 5ä¸ªå†…ç½®å·¥å…·éªŒè¯æ¸…å•ï¼š

1ï¸âƒ£ CalculatorTool
   æµ‹è¯•åœºæ™¯ï¼š
   â–¡ åŸºç¡€è¿ç®—: 2 + 2
   â–¡ å¤æ‚è¡¨è¾¾å¼: (10 + 5) * 3
   â–¡ é”™è¯¯è¾“å…¥: invalid_expression
   
2ï¸âƒ£ DateTimeTool  
   æµ‹è¯•åœºæ™¯ï¼š
   â–¡ è·å–å½“å‰æ—¶é—´
   â–¡ æ—¥æœŸæ ¼å¼åŒ–
   â–¡ æ—¶åŒºè½¬æ¢

3ï¸âƒ£ FileSystemTool
   æµ‹è¯•åœºæ™¯ï¼š
   â–¡ è¯»å–æ–‡ä»¶ï¼ˆæ²™ç›’å†…ï¼‰
   â–¡ å†™å…¥æ–‡ä»¶ï¼ˆæ²™ç›’å†…ï¼‰
   â–¡ åˆ—å‡ºç›®å½•
   â–¡ æ²™ç›’å¤–è®¿é—®ï¼ˆåº”æ‹’ç»ï¼‰

4ï¸âƒ£ WebSearchTool
   æµ‹è¯•åœºæ™¯ï¼š
   â–¡ Mock æ¨¡å¼æœç´¢
   â–¡ æœç´¢ç»“æœæ ¼å¼
   â–¡ ç©ºæŸ¥è¯¢å¤„ç†

5ï¸âƒ£ WeatherTool
   æµ‹è¯•åœºæ™¯ï¼š
   â–¡ Mock æ¨¡å¼æŸ¥è¯¢å¤©æ°”
   â–¡ ä¸åŒåŸå¸‚æŸ¥è¯¢
   â–¡ æ— æ•ˆåŸå¸‚å¤„ç†

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ éªŒè¯æ­¥éª¤ï¼š

### æ­¥éª¤ 1: è¿è¡Œå·¥å…·å•å…ƒæµ‹è¯•
```bash
swift test --filter ToolTests
```

### æ­¥éª¤ 2: é€ä¸ªéªŒè¯å†…ç½®å·¥å…·

#### CalculatorTool
```bash
swift test --filter testCalculatorTool
```

é¢„æœŸç»“æœï¼š
- âœ… add: 2 + 2 = 4
- âœ… multiply: 5 * 3 = 15  
- âœ… complex: (10 + 5) * 2 = 30
- âŒ invalid: é”™è¯¯å¤„ç†æ­£ç¡®

#### DateTimeTool
```bash
swift test --filter testDateTimeTool
```

é¢„æœŸç»“æœï¼š
- âœ… current_time è¿”å›æœ‰æ•ˆæ—¶é—´
- âœ… format_date æ ¼å¼åŒ–æ­£ç¡®
- âœ… timestamp è½¬æ¢æ­£ç¡®

#### FileSystemTool
```bash
swift test --filter testFileSystemTool
```

é¢„æœŸç»“æœï¼š
- âœ… read_file è¯»å–æˆåŠŸï¼ˆæ²™ç›’å†…ï¼‰
- âœ… write_file å†™å…¥æˆåŠŸï¼ˆæ²™ç›’å†…ï¼‰
- âœ… list_directory åˆ—å‡ºæ–‡ä»¶
- âŒ æ²™ç›’å¤–è®¿é—®è¢«æ‹’ç»

#### WebSearchTool (Mock)
```bash
swift test --filter testWebSearchTool
```

é¢„æœŸç»“æœï¼š
- âœ… Mock æœç´¢è¿”å›ç»“æœ
- âœ… ç»“æœæ ¼å¼æ­£ç¡®
- âœ… ç©ºæŸ¥è¯¢å¤„ç†

#### WeatherTool (Mock)
```bash
swift test --filter testWeatherTool
```

é¢„æœŸç»“æœï¼š
- âœ… Mock å¤©æ°”æŸ¥è¯¢æˆåŠŸ
- âœ… è¿”å›æ¸©åº¦å’Œæè¿°
- âœ… æ— æ•ˆåŸå¸‚å¤„ç†

### æ­¥éª¤ 3: Agent å·¥å…·é›†æˆæµ‹è¯•
```bash
export DEEPSEEK_API_KEY='sk-23939bb905f24af08f16d7b80f1f5cd5'
swift test --filter testToolExecution
```

é¢„æœŸç»“æœï¼š
- âœ… Agent æˆåŠŸè°ƒç”¨å·¥å…·
- âœ… å·¥å…·ç»“æœæ­£ç¡®è¿”å›
- âœ… Agent åŸºäºç»“æœç”Ÿæˆå›å¤

### æ­¥éª¤ 4: è¿è¡Œ TravelAssistant ç¤ºä¾‹
```bash
cd Examples/TravelAssistant
export DEEPSEEK_API_KEY='sk-23939bb905f24af08f16d7b80f1f5cd5'
swift run
```

é¢„æœŸè¾“å‡ºï¼š
```
ğŸ§³ Travel Assistant Example
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Registering travel tools...
âœ… Calculator Tool
âœ… DateTime Tool  
âœ… Weather Tool

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Query: Plan a trip to Tokyo next week

Agent Response:
Based on the weather forecast for Tokyo:
- Temperature: 15Â°C
- Conditions: Partly cloudy
- Best time to visit: Afternoon

I recommend...
```

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… éªŒè¯é€šè¿‡æ ‡å‡†ï¼š
   â€¢ æ‰€æœ‰5ä¸ªå·¥å…·ç‹¬ç«‹æµ‹è¯•é€šè¿‡
   â€¢ å·¥å…·è°ƒç”¨æµç¨‹æ­£ç¡®
   â€¢ é”™è¯¯å¤„ç†å¥å£®
   â€¢ Agent èƒ½æ­£ç¡®ä½¿ç”¨å·¥å…·
   â€¢ å·¥å…·ç»“æœæ ¼å¼æ­£ç¡®

âŒ å¤±è´¥æ ‡å‡†ï¼š
   â€¢ ä»»ä½•å·¥å…·æµ‹è¯•å¤±è´¥
   â€¢ å·¥å…·è°ƒç”¨æµç¨‹é”™è¯¯
   â€¢ é”™è¯¯æœªæ­£ç¡®å¤„ç†
   â€¢ æ²™ç›’æ£€æŸ¥å¤±æ•ˆ
   â€¢ Agent æ— æ³•è°ƒç”¨å·¥å…·

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ å·¥å…·ç³»ç»Ÿæ¶æ„éªŒè¯ï¼š

â–¡ ToolProtocol å®šä¹‰æ¸…æ™°
â–¡ ToolRegistry ç®¡ç†æ­£ç¡®
â–¡ ToolExecutor æ‰§è¡Œå¯é 
â–¡ BuiltinToolsRegistry æ³¨å†Œå®Œæ•´
â–¡ Agent å·¥å…·é›†æˆæ— ç¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
""")
