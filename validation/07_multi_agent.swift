#!/usr/bin/env swift

/*
 éªŒè¯è„šæœ¬ 07: å¤šæ™ºèƒ½ä½“éªŒè¯
 
 éªŒè¯å†…å®¹ï¼š
 - MultiAgentSystem é¡ºåºæ‰§è¡Œ
 - å¹¶å‘æ‰§è¡Œ
 - Agent é—´é€šä¿¡
 - åè°ƒæœºåˆ¶
*/

import Foundation

print("""
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ§ª éªŒè¯è„šæœ¬ 07: å¤šæ™ºèƒ½ä½“ç³»ç»ŸéªŒè¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ éªŒè¯é¡¹ç›®æ¸…å•ï¼š

1ï¸âƒ£ MultiAgentSystem åŸºç¡€
   â–¡ åˆ›å»ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
   â–¡ æ³¨å†Œå¤šä¸ª Agent
   â–¡ é…ç½®æ‰§è¡Œç­–ç•¥

2ï¸âƒ£ é¡ºåºæ‰§è¡Œæ¨¡å¼
   â–¡ é¡ºåºæ‰§è¡Œå¤šä¸ª Agent
   â–¡ ä¸Šä¸‹æ–‡ä¼ é€’
   â–¡ ç»“æœèšåˆ

3ï¸âƒ£ å¹¶å‘æ‰§è¡Œæ¨¡å¼
   â–¡ å¹¶å‘æ‰§è¡Œå¤šä¸ª Agent
   â–¡ ç»“æœåŒæ­¥
   â–¡ æ€§èƒ½æå‡éªŒè¯

4ï¸âƒ£ Agent é—´é€šä¿¡
   â–¡ æ¶ˆæ¯ä¼ é€’
   â–¡ å…±äº«ä¸Šä¸‹æ–‡
   â–¡ åä½œä»»åŠ¡å®Œæˆ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ éªŒè¯æ­¥éª¤ï¼š

### æ­¥éª¤ 1: MultiAgentSystem ç¤ºä¾‹è¿è¡Œ
```bash
cd Examples/MultiAgentSystem
export DEEPSEEK_API_KEY='sk-23939bb905f24af08f16d7b80f1f5cd5'
swift run
```

é¢„æœŸè¾“å‡ºï¼š
```
ğŸ¤ Multi-Agent System Example
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Setting up agents...
âœ… Research Agent
âœ… Analysis Agent
âœ… Writing Agent

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Sequential Execution Example
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Task: Research and analyze Swift programming

[Research Agent] Gathering information about Swift...
Result: Swift is a powerful programming language...

[Analysis Agent] Analyzing the research...
Result: Key features identified: safety, performance...

[Writing Agent] Creating summary report...
Result: # Swift Programming Language...

â±ï¸ Total time: 4.5 seconds

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Parallel Execution Example
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Task: Parallel market research

[All agents working simultaneously...]
âœ… Research Agent: Complete (1.2s)
âœ… Analysis Agent: Complete (1.5s)
âœ… Writing Agent: Complete (1.3s)

Combined results: ...

â±ï¸ Total time: 1.5 seconds (3x faster!) âš¡

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### æ­¥éª¤ 2: é¡ºåºæ‰§è¡Œæµ‹è¯•
```bash
swift test --filter testSequentialExecution
```

æµ‹è¯•åœºæ™¯ï¼š
```swift
// åˆ›å»º 3 ä¸ª Agent
let agent1 = Agent(name: "Step1", ...)
let agent2 = Agent(name: "Step2", ...)
let agent3 = Agent(name: "Step3", ...)

// é¡ºåºæ‰§è¡Œ
let system = MultiAgentSystem()
system.addAgent("step1", agent1)
system.addAgent("step2", agent2)
system.addAgent("step3", agent3)

let results = await system.executeSequential(
    input: "Process this task"
)
```

é¢„æœŸç»“æœï¼š
- âœ… æŒ‰é¡ºåºæ‰§è¡Œ Step1 -> Step2 -> Step3
- âœ… æ¯ä¸ª Agent æ¥æ”¶å‰ä¸€ä¸ªçš„è¾“å‡º
- âœ… ä¸Šä¸‹æ–‡æ­£ç¡®ä¼ é€’
- âœ… æœ€ç»ˆç»“æœåŒ…å«æ‰€æœ‰æ­¥éª¤

### æ­¥éª¤ 3: å¹¶å‘æ‰§è¡Œæµ‹è¯•
```bash
swift test --filter testParallelExecution
```

æµ‹è¯•åœºæ™¯ï¼š
```swift
// åˆ›å»º 5 ä¸ªç‹¬ç«‹ Agent
let agents = (1...5).map { i in
    Agent(name: "Agent\\(i)", ...)
}

// å¹¶å‘æ‰§è¡Œ
let system = MultiAgentSystem()
for (id, agent) in agents.enumerated() {
    system.addAgent("agent\\(id)", agent)
}

let startTime = Date()
let results = await system.executeParallel(
    input: "Independent tasks"
)
let duration = Date().timeIntervalSince(startTime)
```

é¢„æœŸç»“æœï¼š
- âœ… æ‰€æœ‰ Agent å¹¶å‘æ‰§è¡Œ
- âœ… æ‰§è¡Œæ—¶é—´ â‰ˆ å•ä¸ª Agent æ—¶é—´
- âœ… æ‰€æœ‰ç»“æœæ­£ç¡®è¿”å›
- âœ… æ— æ•°æ®ç«äº‰

æ€§èƒ½å¯¹æ¯”ï¼š
```
é¡ºåºæ‰§è¡Œ 5 ä¸ª Agent: 5.0ç§’
å¹¶å‘æ‰§è¡Œ 5 ä¸ª Agent: 1.1ç§’
æ€§èƒ½æå‡: 4.5x âš¡
```

### æ­¥éª¤ 4: Agent é—´é€šä¿¡æµ‹è¯•
```bash
swift test --filter testAgentCommunication
```

æµ‹è¯•åœºæ™¯ï¼š
```
Agent A: æ”¶é›†æ•°æ®
  â†“ ä¼ é€’æ•°æ®
Agent B: åˆ†ææ•°æ®
  â†“ ä¼ é€’åˆ†æç»“æœ
Agent C: ç”ŸæˆæŠ¥å‘Š
```

é¢„æœŸç»“æœï¼š
- âœ… æ¶ˆæ¯æ­£ç¡®ä¼ é€’
- âœ… æ•°æ®æ ¼å¼ä¿æŒ
- âœ… é”™è¯¯ä¼ æ’­æœºåˆ¶
- âœ… æœ€ç»ˆæŠ¥å‘Šå®Œæ•´

### æ­¥éª¤ 5: åä½œä»»åŠ¡æµ‹è¯•
```bash
swift test --filter testCollaborativeTask
```

å¤æ‚åœºæ™¯ï¼š
```
ä»»åŠ¡: è§„åˆ’ä¸€æ¬¡æ—…è¡Œ

Agents:
1. Weather Agent: æŸ¥è¯¢ç›®çš„åœ°å¤©æ°”
2. Budget Agent: è®¡ç®—é¢„ç®—
3. Route Agent: è§„åˆ’è·¯çº¿
4. Coordinator Agent: æ•´åˆæ‰€æœ‰ä¿¡æ¯

æ‰§è¡Œæµç¨‹:
1. å¹¶å‘æ‰§è¡Œå‰ 3 ä¸ª Agent
2. Coordinator æ±‡æ€»ç»“æœ
3. ç”Ÿæˆæœ€ç»ˆæ—…è¡Œè®¡åˆ’
```

é¢„æœŸç»“æœï¼š
- âœ… å¤æ‚ä»»åŠ¡æ­£ç¡®åˆ†è§£
- âœ… Agent åä½œæ— ç¼
- âœ… ç»“æœæ•´åˆå®Œæ•´
- âœ… ç”¨æˆ·ä½“éªŒæµç•…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… éªŒè¯é€šè¿‡æ ‡å‡†ï¼š
   â€¢ é¡ºåºæ‰§è¡Œæ­£ç¡®ä¸”ç¨³å®š
   â€¢ å¹¶å‘æ‰§è¡Œæ€§èƒ½æå‡æ˜æ˜¾
   â€¢ Agent é—´é€šä¿¡å¯é 
   â€¢ å¤æ‚åä½œä»»åŠ¡æˆåŠŸå®Œæˆ
   â€¢ é”™è¯¯å¤„ç†æœºåˆ¶å¥å…¨

âŒ å¤±è´¥æ ‡å‡†ï¼š
   â€¢ æ‰§è¡Œé¡ºåºé”™è¯¯
   â€¢ å¹¶å‘å¯¼è‡´æ•°æ®æ··ä¹±
   â€¢ æ¶ˆæ¯ä¼ é€’å¤±è´¥
   â€¢ ä¸Šä¸‹æ–‡ä¸¢å¤±
   â€¢ ä»»åŠ¡æ— æ³•å®Œæˆ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ¶æ„éªŒè¯ï¼š

â–¡ MultiAgentSystem æ ¸å¿ƒåŠŸèƒ½å®Œæ•´
â–¡ AgentCoordinator åè°ƒæœºåˆ¶æ­£ç¡®
â–¡ AgentCommunication é€šä¿¡å¯é 
â–¡ æ‰§è¡Œç­–ç•¥ (Sequential/Parallel) æœ‰æ•ˆ
â–¡ é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼š

### é¡ºåº vs å¹¶å‘
| Agentsæ•° | é¡ºåºæ‰§è¡Œ | å¹¶å‘æ‰§è¡Œ | æå‡ |
|---------|---------|---------|------|
| 2 | 2.4ç§’ | 1.3ç§’ | 1.8x |
| 3 | 3.6ç§’ | 1.4ç§’ | 2.6x |
| 5 | 6.0ç§’ | 1.5ç§’ | 4.0x |
| 10 | 12.0ç§’ | 1.8ç§’ | 6.7x |

### é€‚ç”¨åœºæ™¯
- é¡ºåºæ‰§è¡Œ: ä»»åŠ¡æœ‰ä¾èµ–å…³ç³»
- å¹¶å‘æ‰§è¡Œ: ä»»åŠ¡ç›¸äº’ç‹¬ç«‹
- æ··åˆæ¨¡å¼: éƒ¨åˆ†å¹¶å‘ + éƒ¨åˆ†é¡ºåº

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
""")
